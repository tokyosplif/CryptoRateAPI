<?php

namespace App\DataFixtures;

use App\Entity\ExchangeRate;
use Doctrine\Bundle\FixturesBundle\Fixture;
use Doctrine\Persistence\ObjectManager;
use DateTime;

class ExchangeRateFixtures extends Fixture
{
    public function load(ObjectManager $manager): void
    {
        $data = [
            ['BTC', 45000.12345678, 41000.87654321, 35000.56781234, '2025-01-01 12:00:00'],
            ['ETH', 3000.65432100, 2800.12345678, 2500.98765432, '2025-01-02 12:00:00'],
            ['LTC', 150.98765432, 140.56781234, 130.87654321, '2025-01-03 12:00:00'],
            ['BTC', 45200.65432100, 41200.12345678, 35200.87654321, '2025-01-04 12:00:00'],
            ['ETH', 3050.87654321, 2850.98765432, 2550.54321000, '2025-01-05 12:00:00'],
            ['LTC', 155.23456789, 145.98765432, 135.87654321, '2025-01-06 12:00:00'],
            ['BTC', 45500.98765432, 41400.98765432, 35400.54321000, '2025-01-07 12:00:00'],
            ['ETH', 3100.12345678, 2900.65432100, 2600.43210987, '2025-01-08 12:00:00'],
            ['LTC', 160.56781234, 150.43210987, 140.65432100, '2025-01-09 12:00:00'],
            ['BTC', 46000.87654321, 41800.43210987, 35800.98765432, '2025-01-10 12:00:00'],
            ['ETH', 3150.98765432, 2950.87654321, 2650.32198765, '2025-01-11 12:00:00'],
            ['LTC', 165.98765432, 155.87654321, 145.54321000, '2025-01-12 12:00:00'],
            ['BTC', 46500.12345678, 42200.12345678, 36200.98765432, '2025-01-13 12:00:00'],
            ['ETH', 3200.54321000, 3000.98765432, 2700.76543210, '2025-01-14 12:00:00'],
            ['LTC', 170.43210987, 160.76543210, 150.98765432, '2025-01-15 12:00:00'],
            ['BTC', 47000.65432100, 42600.54321000, 36600.12345678, '2025-01-16 12:00:00'],
            ['ETH', 3250.43210987, 3050.32198765, 2750.43210987, '2025-01-17 12:00:00'],
            ['LTC', 175.98765432, 165.87654321, 155.43210987, '2025-01-18 12:00:00'],
            ['BTC', 47500.98765432, 43000.98765432, 37000.12345678, '2025-01-19 12:00:00'],
        ];

        foreach ($data as $item) {
            $exchangeRate = new ExchangeRate();
            $exchangeRate->setCurrencyPair($item[0]);
            $exchangeRate->setRateUsd($item[1]);
            $exchangeRate->setRateEur($item[2]);
            $exchangeRate->setRateGbp($item[3]);
            $exchangeRate->setTimestamp(new DateTime($item[4]));

            $manager->persist($exchangeRate);
        }

        $manager->flush();
    }
}
